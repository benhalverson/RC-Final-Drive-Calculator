<section class="mx-auto max-w-3xl space-y-6 p-4 bg-gray-50 dark:bg-gray-900">
  <div class="flex items-center justify-end">
    <button
      type="button"
      (click)="resetToPreset()"
      class="inline-flex items-center gap-2 rounded-md border-l-4 border-amber-500 bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow hover:bg-indigo-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:bg-indigo-500 dark:hover:bg-indigo-400"
    >
      Reset to preset
    </button>
  </div>

  <div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800">
    <app-preset-select
      [presets]="store.presets()"
      [userPresets]="store.userPresets()"
      [value]="store.selectedId()"
      (valueChange)="onPresetChange($event)"
      (addPreset)="onAddPreset($event)"
      (removePreset)="onRemovePreset($event)"
    />
  </div>

  <div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800">
    <h2 class="mb-3 text-sm font-medium text-gray-700 dark:text-gray-300">Gearing</h2>
    <app-gear-form
      [spur]="store.spur()"
      [pinion]="store.pinion()"
      [internalRatio]="store.internalRatio()"
      [irOverridden]="store.irOverridden()"
      [fdr]="store.fdr()"
      [isFdrValid]="store.fdrValid()"
      (spurChange)="onSpurChange($event)"
      (pinionChange)="onPinionChange($event)"
      (internalRatioChange)="onInternalRatioChange($event)"
      (irOverrideToggle)="onIrOverrideToggle()"
    />
  </div>
</section>
